<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>绘制圆形arc(x,y,R,startAngle,endAngle,anticlockwise)</title>
		<style>
			#myCanvas{
				box-shadow: 0 0 5px black;
				margin-top: 50px;
				margin-left: 50px;
			}
			div{display:inline-block;width:300px;border:1px solid #ddd;}
		</style>
	</head>
	<body>
		<!--宽高只能在属性值设置，样式设置像素值有差别-->
		<canvas id="myCanvas" width="300" height="300">浏览器版本太低，请更新</canvas>
		<div id="answerBox">
		</div>
	</body>
	<script>
		var numArr=[
			// {"problem":"000000000000000000000000000","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"11111111111111111111111111","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"2222222222222222222222222","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"3333333333333333333333333","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"4444444444444444444444444","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"5555555555555555555555555","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"6666666666666666666666666","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			// {"problem":"77777777777777777777777777","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			{"problem":"88888888888888888888888","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			{"problem":"999999999999999999999999999","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"},
			{"problem":"1010101010101010101010101010","answerList":["A:aaaaaaaaa","B:bbbbbbbbb","C:ccccc","D:ddddddd"],"correct":"aaaaaa"}
		];
		function answerFun(){
			var str="";
			numArrRandom=numArr.splice(parseInt(Math.random()*numArr.length),1);
			numArrRandom.length==0?arcFun=null:arcFun(); //numArrRandom.length==0没有取到数据
			
			if(typeof(numArrRandom[0])==="undefined"){
				alert('答题结束');
				return false;
			}
			str+=`<h4>`+numArrRandom[0].problem+`</h4>`
			for(var i=0;i<numArrRandom[0].answerList.length;i++){
				str+=`<p>`+numArrRandom[0].answerList[i]+`</p>`;
			}
			console.log("numArr.length------->"+numArr.length);
			document.getElementById('answerBox').innerHTML=str;
			console.log(numArrRandom[0].correct);
			if(numArr.length==0){console.log("这里是最后一题")}
			

		}
	 	answerFun();
		// 获取canvas对象
		function arcFun(){
			var canvas = document.getElementById("myCanvas").getContext("2d");
			canvas.lineWidth="4"; //设置所有路径的线宽
			var i=4.5,x=y=160;times=10;animat=null;

			animat=setInterval(function (){
				canvas.beginPath();
				canvas.clearRect(100,100,200,200)
				// 设置大小和字体
				canvas.font="50px Times New Roman";   //font="size 字体"
				canvas.textAlign="center";              //对齐方式
				canvas.textBaseline="botttom";        //基准线 top middle  bottom
				canvas.direction ="rtl";         		 //文本方向 rtl inherit    默认是ltr
				canvas.fillText(times,160,175,[200]);//fillText(text,x,y,[maxWidth]) 填充文字
				i+=0.6, times--;
				canvas.arc(x,y,40,Math.PI*1.5,i,false);
				canvas.stroke();

				console.log(times);
				if( times<0){
					clearInterval(animat);
					answerFun();
				}
			},1000);
		};

		// 天-小时-分-秒 --->倒计时
		// function countDown(times){
		// 	var timer=null;
		// 	timer=setInterval(function(){
		// 	    var day=0,
		// 	      hour=0,
		// 	      minute=0,
		// 	      second=0;//时间默认值
		// 	    if(times > 0){
		// 	      day = Math.floor(times / (60 * 60 * 24));
		// 	      hour = Math.floor(times / (60 * 60)) - (day * 24);
		// 	      minute = Math.floor(times / 60) - (day * 24 * 60) - (hour * 60);
		// 	      second = Math.floor(times) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);
		// 	    }
		// 	    if (day <= 9) day = '0' + day;
		// 	    if (hour <= 9) hour = '0' + hour;
		// 	    if (minute <= 9) minute = '0' + minute;
		// 	    if (second <= 9) second = '0' + second;
		// 	    //
		// 	    console.log(day+"天:"+hour+"小时："+minute+"分钟："+second+"秒");
		// 	    times--;
		// 	  },1000);
		// 	  if(times<=0){
		// 	    clearInterval(timer);
		// 	}
		// }
		// countDown(20);

	</script>
</html>
